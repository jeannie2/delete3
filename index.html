<!DOCTYPE html>
<html>
<head>
<style>
table, td {
  border: 1px solid black;
 
}

table {
  background:black;
  margin-left: auto;
  margin-right: auto;
  margin-top:100px;
  padding-top:10px;
  padding-left: 15px;
  padding-right:15px;
  padding-bottom:10px;
}

.cap {
    box-shadow:5px 0px 10px 0.9px green !important;
}

.lit{
    box-shadow:0px 0px 15px 0.9px pink !important;
}

td {
    height:170px;
    width:140px;
    border:1px solid white !important;
}

img {
border:0.5px solid red;
display:block;
width:100%;
height:100%;
pointer-events: none;
}

td {
border:none;
}

</style>
</head>
<body>

        <a href="https://www.w3schools.com">Visit W3Schools</a>

<table id="myTable">
  <tr>
  	<td id="why">
  		<!---<a href="gaze.jpg" download>
        	<img src="gaze.jpg" />-->
        
    	</a>
    </td>
    
   	<td id="cow">
        <!----<a href="http://dummyimage.com/68x68/000/fff" download>
        	<img src="http://dummyimage.com/68x68/000/fff" />
        
    	</a>-->
    </td>
    
    <td>
       <!---- <a href="http://dummyimage.com/68x68/000/fff" >
        	<img src="http://dummyimage.com/68x68/000/fff"/> -->
        
    	</a>
    </td>
    
  </tr>
  	<td>
      <!----  <a href="http://dummyimage.com/68x68/000/fff">
        	<img src="http://dummyimage.com/68x68/000/fff" />  -->
        
    	</a>
    </td>
    
   	<td>
  <!----      <a href="http://dummyimage.com/68x68/000/fff"  >
        	<img src="http://dummyimage.com/68x68/000/fff" />  -->
        
    	</a>
    </td>
    
    <td>
      <!----  <a href="http://dummyimage.com/68x68/000/fff" >
        	<img src="http://dummyimage.com/68x68/000/fff" /> -->
        
    	</a>
    </td>
  <tr>
	<td>
  <!---      <a href="http://dummyimage.com/68x68/000/fff" >
        	<img src="http://dummyimage.com/68x68/000/fff" />  -->
         
    	</a>
    </td>
    
   	<td>
   <!----     <a href="http://dummyimage.com/68x68/000/fff" >
        	<img src="http://dummyimage.com/68x68/000/fff" /> -->
        
    	</a>
    </td>
    
    <td>
  <!----      <a href="http://dummyimage.com/68x68/000/fff" >
        	<img src="http://dummyimage.com/68x68/000/fff" /> -->
        
    	</a>
    </td>
  </tr>
</table>

<script>

var table = document.querySelector("table")
var cells = table.getElementsByTagName("td"); 
var tulip = 0;
console.log("tulip: " + tulip)
//console.log(cells.length);

for (var i = 0; i < cells.length; i++) {
  cells[i].addEventListener('click', sprinkle);
}

/*
for (var i = 0; i < cells.length; i++) { 
    cells[i].classList.toggle("lit");
}
*/

var why = document.getElementById("why");

why.addEventListener("click", sprinkle); //add event listener to all tds

localStorage.setItem('trials', tulip.toString()) //need convert to string?
var priorvalue = localStorage.getItem('trials') //returns number as string
var value = parseInt(priorvalue);
console.log("value: " + value);
console.log(value.typeof);;

function sprinkle() {
	console.log("sprinkling");
    if((parseInt(localStorage.getItem('trials'))) < 5) { //localStorage.getItem('trials').toSTring()  or just value
        this.classList.add("cap");
        this.classList.remove("lit"); //the one just clicked. specific one remove light QQ
        tulip++;
        console.log("tulip" + tulip);
        localStorage.setItem('trials', tulip.toString()) //need convert to string?
        return tulip;
        } 
    else { //5 or more
        console.log("out of stock");
        this.onclick=false;
        console.log("tulip: " + parseInt(localStorage.getItem('trials'))); //localStorage.getItem('trials') or just value try later
        //or parseInt(localStorage.getItem('trials') 
       
        this.classList.remove("cap"); //change to class name for glowing
        removeLinks(); //check if works
        this.removeEventListener("click", sprinkle) //check if works on browser github
        
       // this.removeAttribute("download"); //within the thing 
        
       // why.removeAttribute("href"); //or change to ""   //within the thing or BELOW
        document.querySelector('[href="gaze.jpg"]').removeAttribute("download"); //dont need 
        
        }
};

// delete
document.addEventListener("keydown",function(e){
        if(event.keyCode===32) {
           // document.querySelector('[href="gaze.jpg"]').removeAttribute("download");
        }
    });

function removeLinks() {
    console.log("solid")
    var links = document.getElementsByTagName("a");
    for(var i=0; i < links.length; i++) {
        console.log(links[i].href);
        links[i].href= " "; //still clickable
    }
}

var now = new Date();
console.log(now);
var date = now.getDate(); //number
var month = now.getMonth() + 1;
localStorage.setItem("date", date);
localStorage.setItem("month", month)

parseInt(localStorage.getItem("date"));//returns string
parseInt(localStorage.getItem("month")); //returns string

var present = new Date()
present.getDate() === parseInt(localStorage.getItem("date"));
present.getMonth() === parseInt(localStorage.getItem("month"));
//wont bother with year

//ideally use condition when hv new images each day
if ((present.getDate() !== parseInt(localStorage.getItem("date"))) && (present.getMonth() !== parseInt(localStorage.getItem("month")))) {
// sprinke();
 console.log("not same day and mnonth")
}

</script>

</body>
</html>
